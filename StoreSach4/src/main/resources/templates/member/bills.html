<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Minh Tuân | Danh sách đơn hàng</title>

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">  

    <!-- Font Awesome -->
    <link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
	integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Libraries Stylesheet -->
    <link th:href="@{/client/lib/animate/animate.min.css}" rel="stylesheet">
    <link th:href="@{/client/lib/owlcarousel/assets/owl.carousel.min.css}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/client/css/style.css}" rel="stylesheet">
   <link rel="stylesheet" th:href="@{/client/css/style4.css}"> 
	 <link rel="stylesheet" th:href="@{/client/css/card.css}"> 
	<link th:href="@{/storeSach3/font-awesome/css1/all.css}" rel="stylesheet">
</head>

<body >
<div class="container-fluid" >
				<div
					class="row align-items-center bg-light py-3 px-xl-5 d-none d-lg-flex">
					<div class="col-lg-4">
						<a th:href="@{/products}" class="text-decoration-none"> <span
							class="h1 text-uppercase text-primary bg-dark px-2">Book</span> <span
							class="h1 text-uppercase text-dark bg-primary px-2 ml-n1">Store</span>
						</a>
					</div>
					<div class="col-lg-4 col-6 text-left">
						<form action="">
							<div class="input-group">
								<input type="text" class="form-control"
									placeholder="Search for products">
								<div class="input-group-append">
									<span class="input-group-text bg-transparent text-primary">
										<i class="fa fa-search"></i>
									</span>
								</div>
							</div>
						</form>
					</div>
					<div class="col-lg-4 col-6 text-right">
						<p class="m-0">Customer Service</p>
						<h5 class="m-0">+012 345 6789</h5>
					</div>
				</div>
			</div>
			<!-- Topbar End -->
		
		
			<!-- Navbar Start -->
			<div class="container-fluid bg-dark mb-30">
				<div class="row px-xl-5">
					<div class="col-lg-3 d-none d-lg-block">
						<a
							class="btn d-flex align-items-center justify-content-between bg-primary w-100"
							data-toggle="collapse" href="#navbar-vertical"
							style="height: 65px; padding: 0 30px;">
							<h6 class="text-dark m-0">
								<i class="fa fa-bars mr-2"></i>Danh mục
							</h6> <i class="fa fa-angle-down text-dark"></i>
						</a>
						<nav
							class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light"
							id="navbar-vertical"
							style="width: calc(100% - 30px); z-index: 999;">
							<div class="navbar-nav w-100">
								<form>
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Categories <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${categories}">
											    <li>
												    <a style="text-decoration: none;" th:href="@{'/productsByCategory?categoryId='+${id.id}}" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Thương hiệu <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${thuongHieus}">
											    <li>
												    <a href="" style="text-decoration: none;" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Kích thước <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${kichThuocs}">
											    <li>
												    <a href="" style="text-decoration: none;" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Giới tính <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${gioiTinhs}">
											    <li>
												    <a href="" style="text-decoration: none;" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a class="nav-link dropdown-toggle" data-toggle="dropdown" th:href="@{/products}">Tất cả sản phẩm</a>
									</div>
								</form>
							</div>
						</nav>
					</div>
					<div class="col-lg-9">
						<nav
							class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-0">
							<a href="" class="text-decoration-none d-block d-lg-none"> <span
								class="h1 text-uppercase text-dark bg-light px-2">Multi</span> <span
								class="h1 text-uppercase text-light bg-primary px-2 ml-n1">Shop</span>
							</a>
							<button type="button" class="navbar-toggler" data-toggle="collapse"
								data-target="#navbarCollapse">
								<span class="navbar-toggler-icon"></span>
							</button>
							<div class="collapse navbar-collapse justify-content-between"
								id="navbarCollapse">
								<div class="navbar-nav mr-auto py-0">
									<a href="index.html" class="nav-item nav-link active">About</a> <a
										href="shop.html" class="nav-item nav-link">Contact</a> <a
										href="detail.html" class="nav-item nav-link">Help</a>
									<div class="nav-item dropdown">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Pages <i
											class="fa fa-angle-down mt-1"></i></a>
										<div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
											<a href="cart.html" class="dropdown-item">Shopping Cart</a> <a
												href="checkout.html" class="dropdown-item">Checkout</a>
										</div>
									</div>
									<a href="contact.html" class="nav-item nav-link">FAQs</a>
								</div>
								<div class="col-lg text-center text-lg-right">
									<div class="d-inline-flex align-items-center">
										<div class="btn-group mx-2">
											<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown">VNĐ</button>
											<div class="dropdown-menu dropdown-menu-right">
												<button class="dropdown-item" type="button">EUR</button>
												<button class="dropdown-item" type="button">GBP</button>
												<button class="dropdown-item" type="button">CAD</button>
											</div>
										</div>
										<div class="btn-group mx-2">
											<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown">EN</button>
											<div class="dropdown-menu dropdown-menu-right">
												<button class="dropdown-item" type="button">FR</button>
												<button class="dropdown-item" type="button">AR</button>
												<button class="dropdown-item" type="button">RU</button>
											</div>
										</div>
										<div class="btn-group mx-2">
											<div class="nav-item dropdown">
												<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown">[[${#request.userPrincipal.principal.name}]]</button>
												<div class="dropdown-menu bg-primary rounded-0">
													<!-- <a th:href="@{/cart}" class="dropdown-item">Giỏ hàng</a>  -->
													<a th:href="@{/bills}" class="dropdown-item">Đơn hàng của bạn</a>
													<a sec:authorize="isAuthenticated()" class="dropdown-item" style="text-decoration: none;" th:href="@{/logout}">Logout</a>
												</div>
											</div>
										</div>
										<!-- <div class="btn-group mx-2" th:if="${#authentication.principal == null}">
											<div class="nav-item dropdown">
												<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown"><a th:href="@{/login}">Login</a></button>
											</div>
										</div> -->
										<!-- <div class="btn-group mx-2">
												<button type="button"
													class="btn btn-sm btn-light dropdown-toggle"
													data-toggle="dropdown">
													<span>
														<ul class="w3-ul">
															<li sec:authorize="!isAuthenticated()"><a th:href="@{/login}">Login</a></li>
															<li sec:authorize="isAuthenticated()"><b>[[${#request.userPrincipal.principal.name}]]</b></li>
														</ul>
													</span>	
												</button>
												<div class="dropdown-menu dropdown-menu-right">
													<ul class="w3-ul">
														<li sec:authorize="isAuthenticated()"><a style="text-decoration: none;" th:href="@{/logout}">Logout</a></li>
													</ul>
												</div>
											</div> -->
											
									</div>
								</div>
								<!-- <div class="navbar-nav ml-auto py-0 d-none d-lg-block">
									<a href="" class="btn px-0"> <i
										class="fas fa-heart text-primary"></i> <span
										class="badge text-secondary border border-secondary rounded-circle"
										style="padding-bottom: 2px;">0</span>
									</a> <a href="" class="btn px-0 ml-3"> <i
										class="fas fa-shopping-cart text-primary"></i> <span
										class="badge text-secondary border border-secondary rounded-circle"
										style="padding-bottom: 2px;">0</span>
									</a>
								</div> -->
								<div class="navbar-nav ml-auto py-0 d-none d-lg-block" id="navbarSupportedContent">
									<ul class="nav navbar-nav">
			
										<li class="nav-item"><a class="nav-link fl1"
											th:href="@{/shoppingCart2}"> <i class="fas fa-cart-plus"
												title="View Cart" style="color: white; font-size: 20px"></i><span
												class="label" th:text="${shoppingCart.itemsNumber}"></span>
										</a></li>
										<!-- <li class="nav-item"><a class="nav-link fl2" href="#"> <i
												class="fa fa-user" style="color: #17a2b8; font-size: 20px"></i>
										</a></li> -->
			
									</ul>
								</div>
							</div>
						</nav>
					</div>
				</div>
			</div>
	<div class="container-fluid">
		<h1>Danh sách đơn hàng</h1>
		
		<table class="table table-light table-borderless table-hover text-center mb-0">
			<thead class="thead-dark">
			    <tr>
			    	<th>ID Bill</th>
					<th>Tên sản phẩm</th>
					<th>Tên người nhận</th>
					<th>Địa chỉ người nhận</th>
					<th>Số điện thoại</th>
					<th>Ngày mua (yyyy-MM-dd)</th>
					<th>Tổng tiền</th>
					<th>Hình thức thanh toán</th>
					<th>OPTION</th>
				</tr>
		  	</thead>
		    <tbody>
		    	<tr th:each="b:${bills }">
					<td th:text="${b.id }"></td>
					<td>
						<span th:each="item : ${b.items}">
							<span>[[*{item.product.name}]] </span>
						</span>
					</td>
					<td><b>[[${#request.userPrincipal.principal.name}]]</b></td>
					<td th:text="${b.buyer.address}"></td>
				    <td th:text="${b.buyer.phone}"></td>
					<td th:text="${#dates.format(b.date, 'yyyy-MM-dd')}"></td>
					<td th:text="'$'+${b.totalPrice}"></td>
					<td>Thanh toán khi nhận hàng</td>
					<td><a style="text-decoration: none;" th:href="@{'/member/bill?ctId='+${b.id }}">Detail</a> | <a style="text-decoration: none;" th:href="@{'/delete/bills?billId='+${b.id }}">Delete</a></td>
				</tr>
		     
		  	</tbody>
		</table>
		<div class="column">
			<a class="btn btn-secondary " th:href="@{/products}"><i class="fas fa-arrow-left"></i>&nbsp;Back to Shopping</a>
		</div>
		<div>
		<!-- <a class="btn btn-primary" th:if="${admin}==null"
			th:href="@{'/member/bills?keyword=' + ${keyword} +'&page=' + ${page + 1}}">LOAD
			MORE</a> 
			
		<a class="btn btn-primary" th:if="${admin}!=null"
			th:href="@{'/admin/bill/search?keyword=' + ${keyword} +'&page=' + ${page + 1}}">LOAD
			MORE</a>
		</div> -->
	</div>
	 <script th:src="@{/storeSach3/js/jquery-3.1.1.min.js}"></script>
	<script th:src="@{/storeSach3/js/bootstrap.js}"></script>
    <script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
		integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
		crossorigin="anonymous"></script>
	<script type="text/javascript" th:src="@{/storeSach3/api/ajaxFetch.js}"></script>

	<script type="text/javascript">
		$(document).ready(function() {
			$('#sidebarCollapse').on('click', function() {
				$('#sidebar').toggleClass('active');
			});
			
		});
		
	</script>
</body>
</html>