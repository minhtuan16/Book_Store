<!DOCTYPE html>
<html layout:decorator="/admin/template.html">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<title>MinhTuan</title>
</head>
  <body>
    <div layout:fragment="form-body">
    	<div class="container mt-1">
	      <div class="row">
	        <h6>Update Product</h6>
	      </div>
      		<hr />
	      <div class="row">
	        <form enctype="multipart/form-data" th:action="@{/admin/product/update}" method="post">
	          <div class="mb-3">
	            <label class="form-label">ID:</label>
	            <input
	              readonly="readonly"
	              th:value="${product.id}"
	              type="text"
	              name="id"
	              class="form-control"
	            />
	          </div>
	          <div class="mb-3">
	            <label class="form-label">Name:</label>
	            <input
	              th:value="${product.name}"
	              type="text"
	              name="name"
	              class="form-control"
	            />
	          </div>
	          
	          <div class="mb-3">
	            <label class="form-label">Price:</label>
	            <input
	              th:value="${product.price}"
	              type="text"
	              name="price"
	              class="form-control"
	            />
	          </div>
	          
	          <div class="mb-3">
				<label class="form-label">Image:</label> 
				<input type="file" name="imagefile" accept="image/*" onchange="loadFile(event)" style="margin-bottom: 20px;" /> 
								
				 <div id="myDIV">
				 	<img id="output" style="width: 50%; height: 50%;"/> 
				 </div> 
				
			 </div>
	
	          <div class="mb-3">
	            <label class="form-label">Description:</label>
	            <input th:value="${product.description}" type="text" name="description" class="form-control" />
	          </div>
	          
	         <div class="mb-3">
              <label class="form-label">Quantity:</label>
              <input type="text" class="form-control" placeholder="Enter quantity" name="soLuong" th:value="${product.soLuong}"/>
             </div>
	
	          <div class="mb-3">
	            <label class="form-label">Category:</label>
	            <select name="category.id" class="form-control">
	              <option th:each="c : ${categoryList}" th:value="${c.id}" th:text="${c.nameCategory}" th:selected="${c.id == product.category.id}"></option>
	            </select>
	          </div>
	          
	          <div class="mb-3">
	              <label class="form-label">Thuong Hieu:</label>
	              <select name="thuongHieuDTO.id" class="form-control">
	                <option th:each="thuongHieu : ${thuongHieuList}" th:value="${thuongHieu.id}" th:text="${thuongHieu.name}" th:selected="${thuongHieu.id == product.thuongHieuDTO.id}"></option>
	              </select>
	            </div>
	            
	            <div class="mb-3">
	              <label class="form-label">Kich Thuoc:</label>
	              <select name="kichThuocDTO.id" class="form-control">
	                <option th:each="kichThuoc : ${kichThuocList}" th:value="${kichThuoc.id}" th:text="${kichThuoc.name}" th:selected="${kichThuoc.id == product.kichThuocDTO.id}"></option>
	              </select>
	            </div>
	            
	            <div class="mb-3">
	              <label class="form-label">Gioi Tinh:</label>
	              <select name="gioiTinhDTO.id" class="form-control">
	                <option th:each="gioiTinh : ${gioiTinhList}" th:value="${gioiTinh.id}" th:text="${gioiTinh.name}" th:selected="${gioiTinh.id == product.gioiTinhDTO.id}"></option>
	              </select>
	            </div>
	
	          <div class="mb-3">
	            <button class="w3-teal w3-button" type="submit">Save</button>
	          </div>
	        </form>
	      </div>
		</div>
    </div>
  </body>
</html>

<script>
	var loadFile = function(event) {
		var output = document.getElementById('output');
		output.src = URL.createObjectURL(event.target.files[0]);
		output.onload = function() {
			URL.revokeObjectURL(output.src) // free memory
		}
	};
</script>
