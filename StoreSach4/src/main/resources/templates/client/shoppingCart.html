<!DOCTYPE html>
<html>
<head
	prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# product: http://ogp.me/ns/product#">
<meta charset="utf-8" />
<meta name="robots" content="INDEX,FOLLOW" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
<title>Minh Tuân | Giỏ hàng</title>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">  

    <!-- Font Awesome -->
    <link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
	integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/client/css/style.css}" rel="stylesheet">
   <link rel="stylesheet" th:href="@{/client/css/style4.css}"> 
	 <link rel="stylesheet" th:href="@{/client/css/card.css}"> 
	<script type="text/javascript" th:src="@{/client/font-awesome/js1/fontawesome.js}"></script>
	<script type="text/javascript" src=""></script>
	<link rel="stylesheet" th:href="@{/client/css/cart.css}">
	
	<!-- <link th:href="@{/storeSach3/css/bootstrap.css}" rel="stylesheet"> -->
	<link th:href="@{/client/font-awesome/css1/all.css}" rel="stylesheet">
</head>
<body>
	<div class="container-fluid" >
				<div
					class="row align-items-center bg-light py-3 px-xl-5 d-none d-lg-flex">
					<div class="col-lg-4">
						<a th:href="@{/products}" class="text-decoration-none"> <span
							class="h1 text-uppercase text-primary bg-dark px-2">Book</span> <span
							class="h1 text-uppercase text-dark bg-primary px-2 ml-n1">Store</span>
						</a>
					</div>
					<div class="col-lg-4 col-6 text-left">
						<form action="">
							<div class="input-group">
								<input type="text" class="form-control"
									placeholder="Search for products">
								<div class="input-group-append">
									<span class="input-group-text bg-transparent text-primary">
										<i class="fa fa-search"></i>
									</span>
								</div>
							</div>
						</form>
					</div>
					<div class="col-lg-4 col-6 text-right">
						<p class="m-0">Customer Service</p>
						<h5 class="m-0">+012 345 6789</h5>
					</div>
				</div>
			</div>
			<!-- Topbar End -->
		
		
			<!-- Navbar Start -->
			<div class="container-fluid bg-dark mb-30">
				<div class="row px-xl-5">
					<div class="col-lg-3 d-none d-lg-block">
						<a
							class="btn d-flex align-items-center justify-content-between bg-primary w-100"
							data-toggle="collapse" href="#navbar-vertical"
							style="height: 65px; padding: 0 30px;">
							<h6 class="text-dark m-0">
								<i class="fa fa-bars mr-2"></i>Danh mục
							</h6> <i class="fa fa-angle-down text-dark"></i>
						</a>
						<nav
							class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light"
							id="navbar-vertical"
							style="width: calc(100% - 30px); z-index: 999;">
							<div class="navbar-nav w-100">
								<form>
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Categories <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${categories}">
											    <li>
												    <a style="text-decoration: none;" th:href="@{'/productsByCategory?categoryId='+${id.id}}" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Thương hiệu <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${thuongHieus}">
											    <li>
												    <a href="" style="text-decoration: none;" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Kích thước <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${kichThuocs}">
											    <li>
												    <a href="" style="text-decoration: none;" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Giới tính <i
											class="fa fa-angle-right float-right mt-1"></i></a>
										<div class="dropdown-menu position-absolute rounded-0 border-0 m-0">
											<ul class="w3-ul w3-hoverable" th:each="id: ${gioiTinhs}">
											    <li>
												    <a href="" style="text-decoration: none;" th:value="${id.name}" th:text="${id.name}"></a>
											    </li>
											</ul>
										</div>
									</div>
									
									<div class="nav-item dropdown dropright">
										<a class="nav-link dropdown-toggle" data-toggle="dropdown" th:href="@{/products}">Tất cả sản phẩm</a>
									</div>
								</form>
							</div>
						</nav>
					</div>
					<div class="col-lg-9">
						<nav
							class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-0">
							<a href="" class="text-decoration-none d-block d-lg-none"> <span
								class="h1 text-uppercase text-dark bg-light px-2">Book</span> <span
								class="h1 text-uppercase text-light bg-primary px-2 ml-n1">Store</span>
							</a>
							<button type="button" class="navbar-toggler" data-toggle="collapse"
								data-target="#navbarCollapse">
								<span class="navbar-toggler-icon"></span>
							</button>
							<div class="collapse navbar-collapse justify-content-between"
								id="navbarCollapse">
								<div class="navbar-nav mr-auto py-0">
									<a href="index.html" class="nav-item nav-link active">About</a> <a
										href="shop.html" class="nav-item nav-link">Contact</a> <a
										href="detail.html" class="nav-item nav-link">Help</a>
									<div class="nav-item dropdown">
										<a href="#" class="nav-link dropdown-toggle"
											data-toggle="dropdown">Pages <i
											class="fa fa-angle-down mt-1"></i></a>
										<div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
											<a href="cart.html" class="dropdown-item">Shopping Cart</a> <a
												href="checkout.html" class="dropdown-item">Checkout</a>
										</div>
									</div>
									<a href="contact.html" class="nav-item nav-link">FAQs</a>
								</div>
								<div class="col-lg text-center text-lg-right">
									<div class="d-inline-flex align-items-center">
										<div class="btn-group mx-2">
											<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown">VNĐ</button>
											<div class="dropdown-menu dropdown-menu-right">
												<button class="dropdown-item" type="button">EUR</button>
												<button class="dropdown-item" type="button">GBP</button>
												<button class="dropdown-item" type="button">CAD</button>
											</div>
										</div>
										<div class="btn-group mx-2">
											<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown">EN</button>
											<div class="dropdown-menu dropdown-menu-right">
												<button class="dropdown-item" type="button">FR</button>
												<button class="dropdown-item" type="button">AR</button>
												<button class="dropdown-item" type="button">RU</button>
											</div>
										</div>
										<div class="btn-group mx-2">
											<div class="nav-item dropdown">
												<button type="button"
												class="btn btn-sm btn-light dropdown-toggle"
												data-toggle="dropdown">[[${#request.userPrincipal.principal.name}]]</button>
												<div class="dropdown-menu bg-primary rounded-0">
													<!-- <a th:href="@{/cart}" class="dropdown-item">Giỏ hàng</a>  -->
													<a th:href="@{/bills}" class="dropdown-item">Đơn hàng của bạn</a>
													<a sec:authorize="isAuthenticated()" class="dropdown-item" style="text-decoration: none;" th:href="@{/logout}">Logout</a>
												</div>
											</div>
										</div>
										<!-- <div class="btn-group mx-2">
												<button type="button"
													class="btn btn-sm btn-light dropdown-toggle"
													data-toggle="dropdown">
													<span>
														<ul class="w3-ul">
															<li sec:authorize="!isAuthenticated()"><a th:href="@{/login}">Login</a></li>
															<li sec:authorize="isAuthenticated()"><b>[[${#request.userPrincipal.principal.name}]]</b></li>
														</ul>
													</span>	
												</button>
												<div class="dropdown-menu dropdown-menu-right">
													<ul class="w3-ul">
														<li sec:authorize="isAuthenticated()"><a style="text-decoration: none;" th:href="@{/logout}">Logout</a></li>
													</ul>
												</div>
											</div> -->
											
									</div>
								</div>
								<!-- <div class="navbar-nav ml-auto py-0 d-none d-lg-block">
									<a href="" class="btn px-0"> <i
										class="fas fa-heart text-primary"></i> <span
										class="badge text-secondary border border-secondary rounded-circle"
										style="padding-bottom: 2px;">0</span>
									</a> <a href="" class="btn px-0 ml-3"> <i
										class="fas fa-shopping-cart text-primary"></i> <span
										class="badge text-secondary border border-secondary rounded-circle"
										style="padding-bottom: 2px;">0</span>
									</a>
								</div> -->
								<div class="navbar-nav ml-auto py-0 d-none d-lg-block" id="navbarSupportedContent">
									<ul class="nav navbar-nav">
			
										<li class="nav-item"><a class="nav-link fl1"
											th:href="@{/shoppingCart2}"> <i class="fas fa-cart-plus"
												title="View Cart" style="color: white; font-size: 20px"></i><span
												class="label">[[${shoppingCart.itemsNumber}]]</span>
										</a></li>
										<!-- <li class="nav-item"><a class="nav-link fl2" href="#"> <i
												class="fa fa-user" style="color: #17a2b8; font-size: 20px"></i>
										</a></li> -->
			
									</ul>
								</div>
							</div>
						</nav>
					</div>
				</div>
			</div>
		<!-- Page Content  -->
			<!-- <nav th:replace="index :: topBar"></nav> -->
			<div class="container" id="app">

				<!-- 	<div class="col-md-3" th:replace="index :: generalSection"></div> -->

						<div class="card">
							<div class="card-header">

								<div class="tab">
									<button class="tablinks" onclick="openTab(event, 'cart')"
										id="defaultOpen">
										<i class="fas fa-cart-plus" title="View Cart"
											style="color: #5629c0; font-size: 20px"></i>
									</button>
									<button class="tablinks" onclick="openTab(event, 'wishlist')">
										<i class="fas fa-heart"
											style="color: #5629c0; font-size: 20px"></i>
									</button>


								</div>
							</div>
							<div class="card-body">

								<div id="cart" class="tabcontent">
									<div class="col-12">
										<div class="row">

											<div class=" table-responsive shopping-cart"
												style="background-color: #fff">
												<table class="table w3-small">
													<thead>
														<tr>
															<th class="w3-center w3-text-teal">Image</th>
															<th class="w3-center w3-text-teal">Product</th>
															<th class="w3-center w3-text-teal">Quantity</th>
															<th class="w3-center w3-text-teal">Subtotal</th>
															<th class="w3-center w3-text-teal">Discount</th>
															<th class="w3-center w3-text-teal">Total</th>
															<th class="w3-center w3-text-teal"><a
																class="btn btn-sm btn-outline-danger"
																th:href="@{/clearShoppingCart2}">Clear All</a></th>
														</tr>
													</thead>
													<tbody>
														<tr th:each="cartItem : ${shoppingCart.items}">
															<td class="w3-center" style="justify-content: center">
																<img alt="" th:src="*{'data:image/jpeg;base64,'+{cartItem.product.image}}" style="width: 150px; height: 100px;">
															</td>
															<td class="w3-center">
																<div class="product-item">
																	<div class="product-info">
																		<h4 class="product-title">
																			<a href="#">[[${cartItem.product.name}]]</a>
																		</h4>
																		<span><em>Price:</em>$[[${cartItem.product.price}]]
																		</span>

																	</div>
																</div>
															</td>
															<td class="w3-center">
																<form th:action="@{/updateShoppingCart2}" method="post">
																	<input type="hidden" th:value="${cartItem.id}"
																		name="item_id" />
																	<div class="input-group">
																		<input type="number" name="quantity"
																			th:value="${cartItem.quantity}"
																			th:attr="max=${cartItem.product.quantity}"
																			class="form-control round-input form-control-sm" />
																		<button class="btn btn-success btn-sm btn-custom"
																			type="submit">
																			<i class="fa fa-check"></i>
																		</button>
																	</div>
																</form>
															</td>
															<td class="w3-center text-lg text-medium">$[[${cartItem.product.price
																* cartItem.quantity}]]</td>
															<td class="w3-center text-lg text-medium">[[${cartItem.product.discount.discount}]]%</td>
															<td class="w3-center" th:text="'$'+${cartItem.product.price * cartItem.quantity - cartItem.product.discount.discount * cartItem.product.price * cartItem.quantity / 100}"></td>
															<td class="w3-center"><a class="remove-from-cart"
																th:href="@{/removeCartItem2/{id}(id = ${cartItem.id})}"
																data-toggle="tooltip"><i
																	class="fa fa-trash"></i></a></td>
														</tr>

													</tbody>
												</table>
											</div>
											<div class="shopping-cart-footer">
												<div class="column">
													<form class="coupon-form" method="post">
														<input class="form-control round-input form-control-sm" type="text"
															placeholder="Coupon code" required="">
														<button class="btn btn-outline-primary btn-sm"
															type="submit">Apply Coupon</button>
													</form>
												</div>
												<div class="column text-lg">
													<b>Subtotal: <span class="text-medium">$[[${shoppingCart.totalPrice}]]</span></b>
												</div>
											</div>
											<div class="shopping-cart-footer">
												<div class="column">
													<a class="btn btn-secondary " th:href="@{/products}"><i
														class="fas fa-arrow-left"></i>&nbsp;Back to Shopping</a>
												</div>
												
												<div class="column cart-button">
													
													 <button class="w3-deep-orange w3-button">
														<a th:href="@{/bills}" >Hoàn thành đơn <i class="fas fa-arrow-right"></i>&nbsp;</a>
													 </button>
												</div>
 											</div>

										</div>
									</div>
								</div>
                               <!-- ------------------- WishList  --------------------------->
                               
								<div id="wishlist" class="tabcontent">
									<div class="col-12">
										<div class="row">
											<div class="cart-button table-responsive shopping-cart"
												style="background-color: #fff">
												<table class="table">
													<thead>
														<tr>
															<th>Product</th>

															<th class="text-center">Add to favorite</th>

															<th class="text-center"><a
																class="btn btn-sm btn-outline-danger clear"
																th:href="@{/clearWishList}">Clear </a></th>
														</tr>
													</thead>
													<tbody>
														<tr th:each="item : ${whishList.items}">
															<td>
																<div class="product-item">
																	<a class="product-thumb" href="#"><img
																		th:src="*{'data:image/jpeg;base64,'+{item.product.image}}"
																		alt="Product"></a>
																	<div class="product-info">
																		<h4 class="product-title">
																			<a href="#">[[${item.product.name}]]</a>
																		</h4>
																		<span><em>Price:</em>$[[${item.product.price}]]
																		</span>

																	</div>
																</div>
															</td>

															<td class="text-center">
																<button class="btn  text-uppercase" style="background-color:#fff !important;"
																	data-toggle="modal"
																	th:attr="data-target='#exampleModalCenter'+*{item.product.id}">
																	<i class="fas fa-cart-plus" style="color: #5629c0; font-size: 20px"></i>
																</button> <!-- Modal -->
																<div class="modal fade"
																	th:id="*{'exampleModalCenter'+{item.product.id}}"
																	data-backdrop="static" data-keyboard="false"
																	tabindex="-1" aria-labelledby="staticBackdropLabel"
																	aria-hidden="true">
																	<div class="modal-dialog modal-dialog-centered">
																		<div class="modal-content">
																			<div class="modal-header">
																				<h5 class="modal-title" id="staticBackdropLabel">add
																					to cart</h5>
																				<button type="button" class="close"
																					data-dismiss="modal" aria-label="Close">
																					<span aria-hidden="true">&times;</span>
																				</button>
																			</div>
																			<div class="modal-body">

																				<div class="card">
																					<img
																						th:src="*{'data:image/jpeg;base64,'+{item.product.image}}"
																						height="250px" class="card-img-top" alt="...">
																					<div class="card-body">
																						<form action="/addToCart" method="POSt">
																							<input type="hidden" name="id"
																								th:value="${item.product.id}" /> <input type="number"
																								min="1" value="1" name="quantity"
																								class="form-control" placeholder="quantity" />
																							
																							<button type="submit"
																								class="btn btn-primary btn-left btn-sm mt-2">submit</button>
																								
																						</form>
																					</div>
																				</div>
																			</div>

																		</div>
																	</div>
																</div>

															</td>
															<td class="text-center"><a class="remove-from-cart"
																th:href="@{/removeWishListItem/{id}(id = ${item.id})}"
																data-toggle="tooltip"><i
																	class="fa fa-trash"></i></a></td>
														</tr>

													</tbody>
												</table>
											</div>

										</div>
									</div>

								</div>

							</div>
						</div>
					</div>

				</div>
				<div class="line"></div>
			</div>
		</div>
		</div>
		<!-- Bootstrap JS & jQuery -->
		<script th:src="@{/storeSach3/js/jquery-3.1.1.min.js}"></script>
	<script th:src="@{/storeSach3/js/bootstrap.js}"></script>
	<script type="text/javascript" th:src="@{/storeSach3font-awesome/js1/fontawesome.js}"></script>
    <script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
		integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
		crossorigin="anonymous"></script>
	<script type="text/javascript" th:src="@{/storeSach3/api/ajaxFetch.js}"></script>

		<script type="text/javascript">
			$(document).ready(function() {
				$('#sidebarCollapse').on('click', function() {
					$('#sidebar').toggleClass('active');
				});
			});
		</script>
		<script>
		function openTab(evt, Name) {
			var i, tabcontent, tablinks;
			tabcontent = document.getElementsByClassName("tabcontent");
			for (i = 0; i < tabcontent.length; i++) {
				tabcontent[i].style.display = "none";
			}
			tablinks = document.getElementsByClassName("tablinks");
			for (i = 0; i < tablinks.length; i++) {
				tablinks[i].className = tablinks[i].className.replace(
						" active", "");
			}
			document.getElementById(Name).style.display = "block";
			evt.currentTarget.className += " active";
		}

		// Get the element with id="defaultOpen" and click on it
		document.getElementById("defaultOpen").click();
	</script>
		<script type="text/javascript" th:src="@{/storeSach3/api/ajaxFetch.js}"></script>
</body>
</html>